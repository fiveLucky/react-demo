# ç¬¬ä¸‰æ­¥ï¼šè§£ælessï¼Œcss

#### é…ç½®
```
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');
const webpack = require('webpack');


module.exports = {
	entry: {
		index: './src/index.js',
	},
	output: {
		path: __dirname + '/release',
		filename: './bundle.js'
	},
	module: {
		rules: [
			{
				test: /\.jsx?$/,
				exclude: /(node_modules)/,
				loader: 'babel-loader'
			},
			{
				test: /\.html$/,
				loader: 'html-loader'
			},
			{
				test: /\.less$/,
				loader: 'style-loader!css-loader!less-loader'
			},
			{
				test: /\.css$/,
				loader: 'style-loader!css-loader?{"modules":true}'
			},

		],
	},
	plugins: [
		new HtmlWebpackPlugin({
			template: 'template/index.html'
		}),
		new webpack.HotModuleReplacementPlugin()
	],
	devtool: 'source-map',
	devServer: {
		contentBase: path.join(__dirname, 'release'),
		port: 9000,
		hotOnly: true
	}
};
```
#### æ³¨æ„ç‚¹
- è§£æ less æ–‡ä»¶çš„é…ç½®ï¼Œloaderçš„é¡ºåºæœ‰ **ä¸¥æ ¼è¦æ±‚**ã€‚loader çš„åŠ è½½é¡ºåºæ˜¯ **å€’åº**ï¼Œä¹Ÿå°±æ˜¯ webpack ä¼šå…ˆåŠ è½½ less-loader ï¼Œå†åŠ è½½ css-loader ï¼Œæœ€ååŠ è½½ style-loader ï¼Œ
	- less-loader : æŠŠlessä»£ç è§£ææˆcssä»£ç 
	- css-loader : æ˜¯è§£æ css ä»£ç ä¸­çš„ @import å’Œ url() 
	- style-loader : é€šè¿‡ style æ ‡ç­¾å°† css æ–‡ä»¶æ’å…¥åˆ° html æ–‡ä»¶ä¸­

	ç»¼ä¸Šï¼Œstyle-loader ä¸€å®šæ˜¯æœ€åä¸€ä¸ªè¢«åŠ è½½ï¼Œæ‰€ä»¥å†™åœ¨ç¬¬ä¸€ä½ï¼›css-loader è§£æ css æ˜¯ç¬¬äºŒæ­¥ï¼Œless-loader æ˜¯ less -> css ï¼Œç¬¬ä¸€ä¸ªåŠ è½½ï¼Œæ‰€ä»¥æ”¾åœ¨æœ€åä¸€ä¸ª
- è§£æ css ï¼Œå¹¶ä¸”æ”¯æŒcss moduleè¯­æ³•
	- ä½¿ç”¨æ–¹å¼å¦‚ä¸‹:  
	![css moduleç”¨æ³•](https://upload-images.jianshu.io/upload_images/3504920-dbb8bdfe68407fb6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
	- css ä»£ç å¦‚ä¸‹  
	![cssä»£ç ](https://upload-images.jianshu.io/upload_images/3504920-8bbe58e57d971099.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)  
	- loaderé…ç½®ï¼š
	```
	{
		test: /\.css$/,
		loader: 'style-loader!css-loader?{"modules":true}'
	},
	```
- è¯´ä¸€ä¸‹loader **åœ¨webpack.config.jsä¸­** é…ç½®çš„å‡ ç§ä¹¦å†™æ–¹å¼ï¼ˆ[å‚è€ƒwebpackä¸­æ–‡ç½‘](https://www.webpackjs.com/concepts/loaders/#configuration)ï¼‰
	- å¯¹è±¡å½¢å¼ï¼š
		```
		module: {
			rules: [
				{
					test: /\.css$/,
					use: [
						{ loader: 'style-loader' },
						{
							loader: 'css-loader',
							options: {
								modules: true
							}
						}
					]
				}
			]
		}
		```  
	- å†…è”å½¢å¼1ï¼š
		```
		module: {
			rules: [
				{
					test: /\.css$/,
					loader: 'style-loader!css-loader?{"modules":true}'
				},
			]
		}
		```
	- å†…è”å½¢å¼2ï¼š
		```
		module: {
				rules: [
					{
						test: /\.css$/,
						loader: 'style-loader!css-loader?modules'
					},
				]
			}
		```  
	å…³äºè¿™ä¸‰ç§å†™æ³•ï¼Œç½‘ä¸Šä¹Ÿæ²¡æ‰¾åˆ°ç›¸å…³ä»‹ç»ï¼Œæ®æˆ‘çŒœæµ‹ï¼Œä¸¤ç§å†…è”å†™æ³•æœ€åéƒ½è¢«è§£ææˆå¯¹è±¡ï¼Œè€Œæœ€åä¸€ç§å†™æ³•å®Œå…¨éµå¾ªurlçš„å‚æ•°æ ¼å¼ï¼ˆåªæ˜¯ç›®æµ‹ğŸ˜…ï¼‰ï¼Œæƒ³è¦çµæ´»è¿ç”¨å„ç§loaderï¼Œè¿˜æ˜¯è¦æŠŠ[è¿™ä¸ªæ–‡æ¡£](https://www.webpackjs.com/loaders/)å¤šçœ‹çœ‹
